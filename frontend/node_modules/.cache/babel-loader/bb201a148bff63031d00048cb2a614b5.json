{"ast":null,"code":"var _jsxFileName = \"/home/hemant/git/happysells/frontend/src/admin/updateCategory.js\";\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../core/Layout';\nimport { isAuthenticated } from '../auth';\nimport { Link, Redirect } from 'react-router-dom';\nimport { getCategory, updateCategory } from './apiAdmin'; // {category: [\"5cd0258f2793ec6e100bc191\"], price: []}\n// http://localhost:3000/admin/category/update/5cd0258f2793ec6e100bc191\n\nconst UpdateCategory = ({\n  match\n}) => {\n  const [values, setValues] = useState({\n    name: '',\n    error: '',\n    redirectToProfile: false,\n    formData: ''\n  }); // destructure user and token from localStorage\n\n  const {\n    user,\n    token\n  } = isAuthenticated();\n  const {\n    name,\n    error,\n    redirectToProfile\n  } = values;\n\n  const init = categoryId => {\n    getCategory(categoryId, token).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n      } else {\n        // populate the state\n        setValues({ ...values,\n          name: data.name\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init(match.params.categoryId); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleChange = name => event => {\n    setValues({ ...values,\n      error: false,\n      [name]: event.target.value\n    });\n  };\n\n  const submitCategoryForm = e => {\n    e.preventDefault(); // update with ? you should send category name otherwise what to update?\n\n    const category = {\n      name: name\n    };\n    updateCategory(match.params.categoryId, user._id, token, category).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n      } else {\n        setValues({ ...values,\n          name: data.name,\n          error: false,\n          redirectToProfile: true\n        });\n      }\n    });\n  };\n\n  const updateCategoryForm = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrap-login100 p-l-85 p-r-85 p-t-55 p-b-55\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"mb-5\",\n    onSubmit: submitCategoryForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"login100-form-title p-b-32 m-b-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Update Category Form\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"txt1 p-b-11\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"Category Name\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrap-input100 validate-input m-b-36\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('name'),\n    value: name,\n    className: \"input100\",\n    type: \"text\",\n    required: true,\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-size25\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, \"Save Changes\"))));\n\n  const showError = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: 'alert alert-danger',\n    role: \"alert\",\n    style: {\n      display: error ? '' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"alert\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"\\xD7\")), error);\n\n  const redirectUser = () => {\n    if (redirectToProfile) {\n      if (!error) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/admin/categories\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 24\n          }\n        });\n      }\n    }\n  };\n\n  const goBackBTN = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/categories\",\n      className: \"text-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, \"Back To Admin Home\"));\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: `Hi ${user.name}`,\n    description: `This is Update Product Action Page`,\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 offset-md-2 m-b-250 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, showError(), updateCategoryForm(), goBackBTN(), redirectUser())));\n};\n\nexport default UpdateCategory;","map":{"version":3,"sources":["/home/hemant/git/happysells/frontend/src/admin/updateCategory.js"],"names":["React","useState","useEffect","Layout","isAuthenticated","Link","Redirect","getCategory","updateCategory","UpdateCategory","match","values","setValues","name","error","redirectToProfile","formData","user","token","init","categoryId","then","data","params","handleChange","event","target","value","submitCategoryForm","e","preventDefault","category","_id","updateCategoryForm","showError","display","redirectUser","goBackBTN"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Layout from '../core/Layout';\nimport { isAuthenticated } from '../auth';\nimport { Link, Redirect } from 'react-router-dom';\nimport { getCategory, updateCategory } from './apiAdmin';\n// {category: [\"5cd0258f2793ec6e100bc191\"], price: []}\n// http://localhost:3000/admin/category/update/5cd0258f2793ec6e100bc191\nconst UpdateCategory = ({ match }) => {\n    const [values, setValues] = useState({\n        name: '',\n        error: '',\n        redirectToProfile: false,\n        formData: ''\n    });\n\n    // destructure user and token from localStorage\n    const { user, token } = isAuthenticated();\n\n    const { name, error, redirectToProfile } = values;\n\n    const init = categoryId => {\n        getCategory(categoryId, token).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                // populate the state\n                setValues({\n                    ...values,\n                    name: data.name\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init(match.params.categoryId);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    const submitCategoryForm = e => {\n        e.preventDefault();\n        // update with ? you should send category name otherwise what to update?\n        const category = {\n            name: name\n        };\n        updateCategory(match.params.categoryId, user._id, token, category).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    ...values,\n                    name: data.name,\n                    error: false,\n                    redirectToProfile: true\n                });\n            }\n        });\n    };\n\n    const updateCategoryForm = () => (\n        <div className=\"wrap-login100 p-l-85 p-r-85 p-t-55 p-b-55\">\n            <form className=\"mb-5\" onSubmit={submitCategoryForm}>\n                <span className=\"login100-form-title p-b-32 m-b-7\">Update Category Form</span>\n                <span className=\"txt1 p-b-11\">Category Name</span>\n                <br />\n                <br />\n                <div className=\"wrap-input100 validate-input m-b-36\">\n                    <input\n                        onChange={handleChange('name')}\n                        value={name}\n                        className=\"input100\"\n                        type=\"text\"\n                        required\n                        name=\"name\"\n                    />\n                </div>\n                <div className=\"w-size25\">\n                    <button type=\"submit\" className=\"flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4\">\n                        Save Changes\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n\n    const showError = () => (\n        <div className={'alert alert-danger'} role=\"alert\" style={{ display: error ? '' : 'none' }}>\n            <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n            {error}\n        </div>\n    );\n\n    const redirectUser = () => {\n        if (redirectToProfile) {\n            if (!error) {\n                return <Redirect to=\"/admin/categories\" />;\n            }\n        }\n    };\n\n    const goBackBTN = () => {\n        return (\n            <div className=\"mt-5\">\n                <Link to=\"/admin/categories\" className=\"text-info\">\n                    Back To Admin Home\n                </Link>\n            </div>\n        );\n    };\n\n    return (\n        <Layout\n            title={`Hi ${user.name}`}\n            description={`This is Update Product Action Page`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2 m-b-250 mb-5\">\n                    {showError()}\n                    {updateCategoryForm()}\n                    {goBackBTN()}\n                    {redirectUser()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default UpdateCategory;\n"]},"metadata":{},"sourceType":"module"}